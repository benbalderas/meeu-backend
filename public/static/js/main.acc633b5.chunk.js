(this["webpackJsonpmeeu-frontend"]=this["webpackJsonpmeeu-frontend"]||[]).push([[0],{103:function(e,t){e.exports="data:image/png;base64,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"},122:function(e,t,a){e.exports=a(152)},127:function(e,t,a){},128:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),o=(a(127),a(17)),l=(a(128),a(107)),m=Object(l.a)({palette:{type:"dark",primary:{main:"#FF5761"},secondary:{main:"#FFFFFF"},background:{default:"#121212",paper:"#1e1e1e"}},typography:{fontFamily:"obviously, sans-serif",h1:{fontFamily:"obviously, sans-serif",fontWeight:700,fontStyle:"normal"},h2:{fontFamily:"obviously, sans-serif",fontWeight:700,fontStyle:"normal"},h3:{fontFamily:"obviously, sans-serif",fontWeight:700,fontStyle:"normal",textTransform:"uppercase"},h4:{fontFamily:"obviously, sans-serif",fontWeight:500,fontStyle:"normal"},h5:{fontFamily:"obviously, sans-serif",fontWeight:500,fontStyle:"normal"},h6:{fontFamily:"obviously, sans-serif",fontWeight:700,fontStyle:"normal",fontSize:"1.125rem",textTransform:"uppercase"},subtitle1:{fontFamily:"obviously, sans-serif",fontWeight:500,fontStyle:"normal",lineHeight:1.25},subtitle2:{fontFamily:"Vulf Mono",fontWeight:300,fontStyle:"normal",fontSize:"1.125rem",lineHeight:1.125},body2:{lineHeight:2},body1:{lineHeight:2},caption:{fontFamily:"Vulf Mono",fontWeight:300,fontSize:"0.875rem",lineHeight:1.125},button:{fontSize:"0.75rem",letterSpacing:.5}},shape:{borderRadius:8},overrides:{MuiAppBar:{root:{backgroundColor:"#121212"},colorPrimary:{backgroundColor:"#121212"}},MuiDrawer:{paperAnchorDockedLeft:{borderRight:0},paper:{borderTopRightRadius:12,borderBottomRightRadius:12}},MuiPaper:{root:{"&.MuiCard-root":{background:"transparent"}}},MuiContainer:{root:{marginTop:24,marginBottom:56}},MuiList:{root:{padding:8}},MuiListItem:{button:{borderRadius:8,marginTop:8}},MuiCardActionArea:{root:{"& > a":{textDecoration:"none",color:"inherit"}}},MuiCardMedia:{root:{height:210,borderRadius:8}},MuiCardContent:{root:{padding:8}},MuiButton:{root:{paddingTop:16,paddingBottom:16,marginTop:8},contained:{marginTop:40}},MuiChip:{root:{paddingBottom:4,borderRadius:6}},MuiFab:{label:{lineHeight:1}},MuiFormControl:{root:{marginTop:24}},MuiInputLabel:{formControl:{left:4}},MuiInput:{root:{padding:4}},MuiFormHelperText:{root:{marginTop:8,fontFamily:"obviously, sans-serif",fontSize:"0.75rem"}},MuiTypography:{gutterBottom:{marginBottom:"1rem"}}}});m.shadows[6]="box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);";var u=m,s=a(219),p=a(220),d=function(e){switch(e){case"/museums":return"Museums";case"/exhibits":return"Exhibits";case"/artworks":return"Artworks";case"/profile":return"Profile";default:return"Meeu"}},E=function(e){var t=e.condition,a=e.wrapper,n=e.children;return t?a(n):n},b=a(22),f=a(7),g=a(191),h=a(98),y=a.n(h),v=a(99),O=a.n(v),S=a(100),j=a.n(S),x=[{name:"Museums",icon:r.a.createElement(y.a,{color:"disabled"})},{name:"Exhibits",icon:r.a.createElement(O.a,{color:"disabled"})},{name:"Artworks",icon:r.a.createElement(j.a,{color:"disabled"})}],w=a(222),C=a(104),A=a.n(C),R=a(15),k=a(13),T=a(19),I=a(9),B=a(23),N=a.n(B),W="https://www.meeu.app/api";N.a.defaults.withCredentials=!0;var F="meeuapp/user/LOADING",U="meeuapp/user/LOGIN_SUCCESS",M="meeuapp/user/LOGIN_ERROR",L="meeuapp/user/LOGOUT",_="meeuapp/user/SIGNUP_ERROR",G={data:JSON.parse(localStorage.getItem("user")),status:"",error:void 0};var D=function(){return{type:F}},q=function(e){return function(t){return t(D()),N.a.post("".concat(W,"/login"),e).then((function(e){var a=e.data.user;localStorage.setItem("user",JSON.stringify(a)),t({type:U,payload:a})})).catch((function(e){var a;t((a=e.response.data,{type:M,error:a}))}))}},H=function(e,t){return function(a){return a(D()),N.a.post("".concat(W,"/signup"),e).then((function(e){a({type:"meeuapp/user/SIGNUP_SUCCESS",payload:e.data.result}),t("/login")})).catch((function(e){var t;a((t=e.response.data,{type:_,error:t}))}))}},K=a(192),Q=a(193),P=a(229),V=a(194),X=a(108),z=a(196),J=a(195),Y=a(154),Z=a(197),$=a(198),ee=a(225),te=a(227),ae=a(101),ne=a.n(ae),re=Object(g.a)((function(e){return{navLink:{textDecoration:"none",color:"inherit"},drawer:Object(R.a)({},e.breakpoints.up("sm"),{width:280,flexShrink:0}),drawerPaper:{width:280}}}));function ie(e){var t=e.window,a=e.userName,i=e.userAvatar,c=e.userType,l=e.open,m=e.handleDrawer,u=e.sections,s=re(),p=Object(T.a)(),d=Object(f.b)(),E=Object(o.g)(),g=Object(o.f)(),h=Object(n.useState)(null),y=Object(b.a)(h,2),v=y[0],O=y[1],S=function(){O(null)},j=r.a.createElement("div",null,r.a.createElement(K.a,null),r.a.createElement(Q.a,{avatar:r.a.createElement(P.a,{alt:a,src:i}),title:a,subheader:c,action:r.a.createElement(V.a,{"aria-label":"settings",onClick:function(e){O(e.currentTarget)}},r.a.createElement(ne.a,null)),classes:{title:"MuiTypography-subtitle1"}}),r.a.createElement(X.a,{anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:S},r.a.createElement(z.a,{onClick:S},"Settings"),r.a.createElement(z.a,{onClick:function(){d({type:L}),g.push("/login")}},"Logout")),r.a.createElement(J.a,null,u.map((function(e){return r.a.createElement(k.c,{to:"/".concat(e.name.toLowerCase()),className:s.navLink,key:e.name},r.a.createElement(Y.a,{button:!0,key:e.name,selected:E.pathname.includes(e.name.toLowerCase()),onClick:l?m:function(){}},r.a.createElement(Z.a,null,e.icon),r.a.createElement($.a,{primary:e.name,primaryTypographyProps:{variant:"body2",color:"textPrimary"}})))})))),x=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("nav",{className:s.drawer,"aria-label":"navigation options"},r.a.createElement(ee.a,{smUp:!0,implementation:"css"},r.a.createElement(te.a,{container:x,variant:"temporary",anchor:"rtl"===p.direction?"right":"left",open:l,onClose:m,classes:{paper:s.drawerPaper},ModalProps:{keepMounted:!0}},j)),r.a.createElement(ee.a,{xsDown:!0,implementation:"css"},r.a.createElement(te.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0},j)))}var ce=a(199),oe=a(41),le=a(102),me=a.n(le),ue=Object(g.a)((function(e){return{menuButton:Object(R.a)({},e.breakpoints.up("sm"),{display:"none"}),appBar:Object(R.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(280,"px)"),marginLeft:280}),appBarTitle:{flexGrow:1}}}));var se=function(e){var t=e.onClick,a=e.screenTitle,n=e.children,i=e.isMain,c=(e.onLogout,ue());return r.a.createElement(ce.a,{position:"fixed",elevation:0,className:c.appBar},r.a.createElement(K.a,null,r.a.createElement(V.a,{"aria-label":"open drawer",edge:"start",onClick:t,className:i?c.menuButton:""},n),r.a.createElement(oe.a,{variant:"h6",noWrap:!0,className:c.appBarTitle},a),i&&r.a.createElement(V.a,{edge:"end",color:"inherit",onClick:function(){}},r.a.createElement(me.a,null))))},pe=a(103),de=a.n(pe),Ee=Object(g.a)((function(e){return{toolbar:e.mixins.toolbar}}));var be=function(e){var t=e.children,a=e.screenTitle,i=Object(f.c)((function(e){return e.user.data})),c=Ee(),o=Object(n.useState)(!1),l=Object(b.a)(o,2),m=l[0],u=l[1],s=function(){u(!m)};return r.a.createElement(w.a,{display:"flex"},r.a.createElement(se,{screenTitle:a,onClick:s,isMain:!0},r.a.createElement(A.a,null)),r.a.createElement(ie,{userAvatar:i.avatar?i.avatar:de.a,userName:i?i.name:"Name",userType:i?i.role:"",handleDrawer:s,open:m,sections:x}),r.a.createElement(w.a,{flexGrow:1},r.a.createElement("div",{className:c.toolbar}),t))},fe=a(200),ge=a(230),he=a(203),ye=a(204),ve=a(201),Oe=a(205),Se=a(208),je=a(209),xe=a(206),we=a(207);function Ce(){var e=Object(o.f)(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.user.status})),i=Object(n.useState)({}),c=Object(b.a)(i,2),l=c[0],m=c[1],u=Object(n.useState)(!1),s=Object(b.a)(u,2),p=s[0],d=s[1],E=function(e){var t=e.target.name,a=e.target.value;m((function(e){return Object(I.a)({},e,Object(R.a)({},t,a))}))};return r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,{maxWidth:"xs"},r.a.createElement(oe.a,{gutterBottom:!0,align:"center",variant:"h2"},"Login"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t(q(l)).then((function(){e.push("/museums")}))}},"error"===a&&r.a.createElement(oe.a,{variant:"body2",color:"primary",display:"block",align:"center"},"Incorrect credentials"),r.a.createElement(ge.a,{fullWidth:!0,name:"email",id:"email",label:"Email",type:"email",required:!0,onChange:E}),r.a.createElement(he.a,{fullWidth:!0,required:!0},r.a.createElement(ye.a,{htmlFor:"password"},"Password"),r.a.createElement(ve.a,{name:"password",id:"password",type:p?"text":"password",onChange:E,endAdornment:r.a.createElement(Oe.a,{position:"end"},r.a.createElement(V.a,{"aria-label":"toggle password visibility",onClick:function(){d(!p)},onMouseDown:function(e){e.preventDefault()}},p?r.a.createElement(xe.a,null):r.a.createElement(we.a,null)))})),r.a.createElement(Se.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:"pending"===a,endIcon:"pending"===a&&r.a.createElement(je.a,{size:18,color:"secondary"})},"Login")),r.a.createElement(w.a,{mt:6,display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement(oe.a,{variant:"body2",color:"textSecondary",align:"center",display:"block"},"No account yet?"),r.a.createElement(Se.a,{size:"small",component:k.b,to:"/signup"},"Create an account"))))}var Ae=a(155),Re=a(228),ke=a(210),Te=a(224);function Ie(){var e=Object(o.f)().push,t=Object(f.b)(),a=Object(f.c)((function(e){return e.user.status})),i=Object(n.useState)(!1),c=Object(b.a)(i,2),l=c[0],m=c[1],u=Object(n.useState)({name:"",email:"",password:"",role:"Visitor",museum:""}),s=Object(b.a)(u,2),p=s[0],d=s[1],E=function(e){var t=e.target.name,a=e.target.value;d((function(e){return Object(I.a)({},e,Object(R.a)({},t,a))}))};return r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,{maxWidth:"xs"},r.a.createElement(oe.a,{gutterBottom:!0,align:"center",variant:"h2"},"Create an account"),r.a.createElement(oe.a,{align:"center",variant:"body1"},"Experience top museums in the world. Know all about your favorite art pieces."),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t(H(p,e))}},r.a.createElement(ge.a,{fullWidth:!0,name:"name",id:"name",label:"Full Name",type:"text",required:!0,onChange:E}),r.a.createElement(ge.a,{fullWidth:!0,name:"email",id:"email",label:"Email",type:"email",required:!0,onChange:E}),r.a.createElement(he.a,{fullWidth:!0,required:!0},r.a.createElement(ye.a,{htmlFor:"password"},"Password"),r.a.createElement(ve.a,{name:"password",id:"password",type:l?"text":"password",onChange:E,endAdornment:r.a.createElement(Oe.a,{position:"end"},r.a.createElement(V.a,{"aria-label":"toggle password visibility",onClick:function(){m(!l)},onMouseDown:function(e){e.preventDefault()}},l?r.a.createElement(xe.a,null):r.a.createElement(we.a,null)))})),r.a.createElement(w.a,{mt:3},r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(Ae.a,{component:"legend"},"What do you want to do?"),r.a.createElement(Re.a,{name:"role",onChange:E,value:p.role},r.a.createElement(ke.a,{value:"Visitor",control:r.a.createElement(Te.a,null),label:"I want to experience museums"}),r.a.createElement(ke.a,{value:"Admin",control:r.a.createElement(Te.a,null),label:"I'm a museum admin"})))),"Admin"===p.role&&r.a.createElement(ge.a,{fullWidth:!0,name:"museum",id:"museum",label:"Museum where you work",type:"text",required:!0,onChange:E,helperText:"We will get in touch to verify this"}),r.a.createElement(Se.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:"pending"===a,endIcon:"pending"===a&&r.a.createElement(je.a,{size:18,color:"secondary"})},"Create account")),r.a.createElement(w.a,{mt:6,display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement(oe.a,{variant:"body2",color:"textSecondary",align:"center",display:"block"},"Already a member?"),r.a.createElement(Se.a,{size:"small",component:k.b,to:"/login"},"Log in here"))))}var Be=function(e){return e.reduce((function(e,t){return Object(I.a)({},e,Object(R.a)({},t._id,t))}),{})},Ne=function(e){return Object.values(e)},We={items:{_id:""},status:"",error:void 0};var Fe=function(e){return{type:"meeuapp/museums/GET_MUSEUMS_ERROR",error:e}},Ue=function(e){return function(t){t({type:"meeuapp/museums/LOADING"});var a=e?"".concat(W,"/museums?admin=").concat(e):"".concat(W,"/museums");return N.a.get(a).then((function(e){var a=Be(e.data.result);t({type:"meeuapp/museums/GET_MUSEUMS_SUCCESS",payload:a})})).catch((function(e){t(Fe(e))}))}},Me=a(211),Le=a(109),_e=a(212),Ge=a(213),De=a(214),qe=a(215);function He(e){var t=e._id,a=e.image,n=e.name,i=e.city,c=e.countryCode;Object(Le.a)(e,["_id","image","name","city","countryCode"]);return r.a.createElement(Me.a,{item:!0,xs:6,sm:6,md:4,lg:3},r.a.createElement(_e.a,{elevation:0},r.a.createElement(Ge.a,null,r.a.createElement(k.b,{to:"/museums/".concat(t)},r.a.createElement(De.a,{image:a,title:n}),r.a.createElement(qe.a,null,r.a.createElement(oe.a,{variant:"subtitle1",component:"h2"},n),r.a.createElement(oe.a,{variant:"body2",color:"textSecondary",component:"p"},"".concat(i,", ").concat(c)))))))}function Ke(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.museums.items}));return Object(n.useEffect)((function(){e(Ue())}),[e]),r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,null,r.a.createElement(Me.a,{container:!0,spacing:3},Ne(t).map((function(e,t){return r.a.createElement(He,Object.assign({key:t},e))})))))}var Qe={items:{},status:"",error:void 0};var Pe=function(e){return{type:"meeuapp/exhibits/GET_EXHIBITS_ERROR",error:e}},Ve=function(e){return function(t){t({type:"meeuapp/exhibits/LOADING"});var a=e?"".concat(W,"/exhibits?museum=").concat(e):"".concat(W,"/exhibits");return N.a.get(a).then((function(e){var a=Be(e.data.result);t({type:"meeuapp/exhibits/GET_EXHIBITS_SUCCESS",payload:a})})).catch((function(e){t(Pe(e))}))}},Xe=a(232),ze=Object(g.a)((function(e){return{metaData:{"& > *:not(:first-child)":{marginLeft:e.spacing(1)}},description:{display:"-webkit-box",boxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineClamp:3}}}));function Je(e){var t=e._id,a=e.title,n=e.type,i=e.description,c=ze();return r.a.createElement(Me.a,{item:!0,xs:12,sm:6,md:6,lg:4},r.a.createElement(_e.a,{elevation:0},r.a.createElement(Ge.a,null,r.a.createElement(k.b,{to:"/exhibits/".concat(t)},r.a.createElement(qe.a,null,r.a.createElement(oe.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(w.a,{className:c.metaData,mb:2,mt:3,display:"flex",alignItems:"center"},r.a.createElement(Xe.a,{variant:"outlined",size:"small",label:n,color:"Temporary"===n?"primary":"default"})),r.a.createElement(oe.a,{className:c.description,variant:"body2",color:"textSecondary",component:"p"},i))))))}var Ye=a(216),Ze=a(105),$e=a.n(Ze),et=Object(g.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3)},extendedIcon:{marginRight:e.spacing(1)}}}));function tt(e){var t=e.label,a=e.to,n=et();return r.a.createElement(Ye.a,{className:n.fab,variant:"extended",color:"primary",component:k.b,to:a},r.a.createElement($e.a,{className:n.extendedIcon}),t)}function at(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.user.data})),a=Object(f.c)((function(e){return e.exhibits.items}));return Object(n.useEffect)((function(){e(Ve())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,null,r.a.createElement(Me.a,{container:!0,spacing:3},Ne(a).map((function(e,t){return r.a.createElement(Je,Object.assign({key:t},e))}))))),"Admin"===t.role&&r.a.createElement(tt,{to:"exhibits/create",label:"Add Exhibit"}))}var nt={items:{},status:"",error:void 0};var rt=function(e){return{type:"meeuapp/artworks/GET_ARTWORKS_ERROR",error:e}},it=function(e){return function(t){t({type:"meeuapp/artworks/LOADING"});var a=e?"".concat(W,"/artworks?exhibit=").concat(e):"".concat(W,"/artworks");return N.a.get(a).then((function(e){var a=Be(e.data.result);t({type:"meeuapp/artworks/GET_ARTWORKS_SUCCESS",payload:a})})).catch((function(e){t(rt(e))}))}},ct=Object(g.a)((function(e){return{details:{display:"flex",alignItems:"center"},content:{flex:"1 0 auto",width:"45%",marginLeft:e.spacing(2)},image:{width:"45%"}}}));function ot(e){var t=e._id,a=e.image,n=e.title,i=e.author,c=ct();return r.a.createElement(Me.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(_e.a,{elevation:0},r.a.createElement(Ge.a,null,r.a.createElement(k.b,{className:c.details,to:"/artworks/".concat(t)},r.a.createElement(De.a,{className:c.image,image:a,title:n}),r.a.createElement(qe.a,{className:c.content},r.a.createElement(oe.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),r.a.createElement(oe.a,{variant:"caption",color:"textSecondary",component:"p"},i))))))}function lt(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.artworks.items})),a=Object(f.c)((function(e){return e.user.data}));return Object(n.useEffect)((function(){e(it())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,null,r.a.createElement(Me.a,{container:!0,spacing:3},Ne(t).map((function(e,t){return r.a.createElement(ot,Object.assign({key:t},e))}))))),"Admin"===a.role&&r.a.createElement(tt,{to:"artworks/create",label:"Add Art"}))}var mt=a(226),ut=a(73),st=a.n(ut);function pt(){var e=Object(f.b)(),t=Object(o.f)().push,a=Object(f.c)((function(e){return e.user.data._id})),i=Object(f.c)((function(e){return e.artworks.status})),c=Object(f.c)((function(e){return Ne(e.museums.items)[0]._id}));Object(n.useEffect)((function(){e(Ue(a))}),[e,a]);var l=Object(n.useState)({title:"",description:"",type:"",endDate:""}),m=Object(b.a)(l,2),u=m[0],s=m[1],p=function(e){var t=e.target.name,a=e.target.value;s((function(e){return Object(I.a)({},e,Object(R.a)({},t,a))})),console.log(u)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{screenTitle:null,onClick:function(){t("/exhibits")}},r.a.createElement(st.a,null)),r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,{maxWidth:"xs"},r.a.createElement(oe.a,{gutterBottom:!0,variant:"h2"},"New Exhibit"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),u.museum=c,e(function(e,t){return function(a){return a({type:"meeuapp/exhibits/LOADING"}),N.a.post("".concat(W,"/exhibits"),e).then((function(e){a({type:"meeuapp/exhibits/CREATE_EXHIBIT_SUCCESS",payload:e.data.result}),t("/exhibits")})).catch((function(e){a({type:"meeuapp/exhibits/CREATE_EXHIBIT_ERROR",error:e})}))}}(u,t))}},r.a.createElement(ge.a,{name:"title",fullWidth:!0,id:"title",label:"Exhibit Title",type:"text",required:!0,onChange:p}),r.a.createElement(ge.a,{name:"description",fullWidth:!0,id:"desc",label:"Description",type:"text",multiline:!0,rows:4,required:!0,onChange:p}),r.a.createElement(he.a,{fullWidth:!0,required:!0},r.a.createElement(ye.a,{id:"type"},"Type"),r.a.createElement(mt.a,{name:"type",labelId:"type",value:u.type,onChange:p},r.a.createElement(z.a,{value:"Permanent"},"Permanent"),r.a.createElement(z.a,{value:"Temporary"},"Temporary"))),"Temporary"===u.type&&r.a.createElement(ge.a,{fullWidth:!0,name:"endDate",id:"date",label:"End Date",type:"date",defaultValue:"2020-08-24",onChange:p,InputLabelProps:{shrink:!0}}),r.a.createElement(Se.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:"pending"===i,endIcon:"pending"===i&&r.a.createElement(je.a,{size:18,color:"secondary"})},"pending"===i?"Creating\u2026":"Create")))))}var dt=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},preview:{width:"100%",marginTop:e.spacing(2),borderRadius:16}}}));function Et(){var e=dt(),t=Object(f.b)(),a=Object(o.f)(),i=a.push,c=a.goBack,l=Object(f.c)((function(e){return e.user.data._id})),m=Object(f.c)((function(e){return e.artworks.status})),u=Object(f.c)((function(e){return Ne(e.museums.items)[0]._id}));Object(n.useLayoutEffect)((function(){t(Ue(l)),t(Ve(u))}),[t,l,u]);var s=Object(f.c)((function(e){return Ne(e.exhibits.items)})),p=Object(n.useState)({exhibit:"",title:"",author:"",image:"",year:"",medium:"",description:""}),d=Object(b.a)(p,2),E=d[0],g=d[1],h=Object(n.useState)(""),y=Object(b.a)(h,2),v=y[0],O=y[1],S=function(e){var t=e.target.name,a=e.target.files||e.target.value;g((function(e){return Object(I.a)({},e,Object(R.a)({},t,a))})),"image"===e.target.name&&O(URL.createObjectURL(e.target.files[0]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{screenTitle:null,onClick:function(){c()}},r.a.createElement(st.a,null)),r.a.createElement(w.a,{mt:3,mb:5},r.a.createElement(fe.a,{maxWidth:"xs"},r.a.createElement(oe.a,{gutterBottom:!0,variant:"h2"},"New Art"),0===s.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{gutterBottom:!0,variant:"h4"},"No exhibits yet!"),r.a.createElement(oe.a,{gutterBottom:!0,variant:"body2",color:"textSecondary"},"To create an artwork you must first create an exhibit"),r.a.createElement(Se.a,{fullWidth:!0,variant:"outlined",size:"large",component:k.b,to:"/exhibits/create"},"Create an Exhibit")):r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;for(var n in E)"image"===n?a.append(n,E[n][0]):a.append(n,E[n]);t(function(e,t){return function(a){return a({type:"meeuapp/artworks/LOADING"}),N.a.post("".concat(W,"/artworks"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"meeuapp/artworks/CREATE_ARTWORK_SUCCESS",payload:e.data.result}),t("/artworks")})).catch((function(e){a({type:"meeuapp/artworks/CREATE_ARTWORK_ERROR",error:e})}))}}(a,i))}},r.a.createElement(he.a,{fullWidth:!0,required:!0},r.a.createElement(ye.a,{id:"exhibit"},"Exhibit"),r.a.createElement(mt.a,{name:"exhibit",labelId:"exhibit",value:E.exhibit,onChange:S},s.map((function(e,t){return r.a.createElement(z.a,{value:e._id,key:t},e.title)})))),r.a.createElement(ge.a,{fullWidth:!0,name:"title",id:"title",label:"Title",type:"text",required:!0,onChange:S}),r.a.createElement(ge.a,{fullWidth:!0,name:"author",id:"author",label:"Author",type:"text",required:!0,onChange:S}),r.a.createElement(w.a,{mt:3},r.a.createElement("input",{name:"image",accept:"image/png, image/jpeg",className:e.input,id:"file",type:"file",onChange:S}),E.image&&r.a.createElement("img",{className:e.preview,src:v,alt:"preview"}),r.a.createElement("label",{htmlFor:"file"},r.a.createElement(Se.a,{fullWidth:!0,variant:"outlined",component:"span"},E.image?"Replace Image":"Add Image"))),r.a.createElement(ge.a,{fullWidth:!0,name:"year",id:"year",label:"Year",type:"number",required:!0,onChange:S}),r.a.createElement(ge.a,{fullWidth:!0,name:"medium",id:"medium",label:"Medium",type:"text",required:!0,onChange:S}),r.a.createElement(ge.a,{fullWidth:!0,name:"description",id:"desc",label:"Description",type:"text",multiline:!0,rows:4,required:!0,onChange:S}),"error"===m&&r.a.createElement(w.a,{mt:3},r.a.createElement(oe.a,{variant:"body2",color:"primary",display:"block",align:"center"},"Please fill all fields")),r.a.createElement(Se.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:"pending"===m,endIcon:"pending"===m&&r.a.createElement(je.a,{size:18,color:"secondary"})},"pending"===m?"Creating\u2026":"Create")))))}var bt=a(55),ft=a.n(bt),gt=a(217),ht=Object(g.a)((function(e){return{image:Object(R.a)({borderRadius:e.shape.borderRadius-2,width:"100%",height:500,objectFit:"cover"},e.breakpoints.down("sm"),{height:200}),countryFlag:{marginTop:4,marginLeft:12,width:24}}}));function yt(){var e=Object(f.b)(),t=Object(o.f)(),a=ht(),i=Object(o.h)().id,c=Object(f.c)((function(e){return e.museums.items})),l=Object(f.c)((function(e){return Ne(e.exhibits.items)}));Object(n.useEffect)((function(){e(function(e){return function(t){return t({type:"meeuapp/museums/LOADING"}),N.a.get("".concat(W,"/museums/").concat(e)).then((function(e){t({type:"meeuapp/museums/GET_SINGLE_MUSEUM_SUCCESS",payload:e.data.result})})).catch((function(e){t(Fe(e))}))}}(i)),e(Ve(i))}),[e,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{screenTitle:"",onClick:function(){t.goBack()}},r.a.createElement(ft.a,null)),r.a.createElement(fe.a,{maxWidth:"lg"},r.a.createElement(Me.a,{container:!0,spacing:4,alignItems:"center"},r.a.createElement(Me.a,{item:!0,lg:5,sm:12},c.image?r.a.createElement("img",{className:a.image,src:c.image,alt:c.name}):r.a.createElement(gt.a,{className:a.image,animation:"wave",variant:"rect"})),r.a.createElement(Me.a,{item:!0,lg:6,sm:12},r.a.createElement(w.a,{mb:3},r.a.createElement(oe.a,{gutterBottom:!0,variant:"h3"},c.name?c.name:r.a.createElement(gt.a,{animation:"wave",height:92})),c.city?r.a.createElement(w.a,{mt:4,display:"flex",alignItems:"center"},r.a.createElement(oe.a,{variant:"subtitle2",color:"textSecondary"},c.city," |"),r.a.createElement(oe.a,{variant:"subtitle2"},r.a.createElement("span",{role:"img"},r.a.createElement("img",{className:a.countryFlag,src:"https://www.countryflags.io/".concat(c.countryCode,"/flat/48.png"),alt:c.countryCode})))):r.a.createElement(gt.a,{animation:"wave"})),r.a.createElement(oe.a,{variant:"body2",color:"textSecondary"},c.description?c.description:r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{animation:"wave",height:20,style:{marginBottom:6}}),r.a.createElement(gt.a,{animation:"wave",height:20,width:"80%"}))))),r.a.createElement(w.a,{ml:1,mt:6,mb:2},r.a.createElement(oe.a,{variant:"subtitle1",color:"textSecondary"},"Current Exhibitions")),r.a.createElement(Me.a,{container:!0,spacing:4},l.length>0?l.map((function(e,t){return r.a.createElement(Je,Object.assign({key:t},e))})):r.a.createElement(w.a,{ml:3,mt:1},r.a.createElement(oe.a,{gutterBottom:!0,variant:"body1",color:"textPrimary"},"Hmm\u2026 looks like this museum has no current exhibitions"),r.a.createElement(Se.a,{variant:"outlined",component:k.b,to:"/museums"},"See other museums")))))}var vt=a(221),Ot=a(218),St=Object(g.a)((function(e){return{metadata:{"& > *:not(:first-child)":{marginLeft:e.spacing(1)}},divider:{marginBottom:e.spacing(5)}}}));function jt(){var e=Object(f.b)(),t=Object(o.f)(),a=St(),i=Object(o.h)().id,c=Object(f.c)((function(e){return e.exhibits.items})),l=Object(f.c)((function(e){return Ne(e.artworks.items)})),m=Object(f.c)((function(e){return e.exhibits.status}));Object(n.useEffect)((function(){e(function(e){return function(t){return t({type:"meeuapp/exhibits/LOADING"}),N.a.get("".concat(W,"/exhibits/").concat(e)).then((function(e){t({type:"meeuapp/exhibits/GET_SINGLE_EXHIBIT_SUCCESS",payload:e.data.result})})).catch((function(e){t(Pe(e))}))}}(i)),e(it(i))}),[e,i]);return r.a.createElement(r.a.Fragment,null,"pending"===m&&r.a.createElement("h1",null,"Loading..."),r.a.createElement(se,{screenTitle:"",onClick:function(){t.goBack()}},r.a.createElement(ft.a,null)),r.a.createElement(fe.a,{maxWidth:"xl"},r.a.createElement(Me.a,{container:!0,spacing:2,alignItems:"top"},r.a.createElement(Me.a,{item:!0,md:6,lg:6,sm:12},r.a.createElement(oe.a,{variant:"h3"},c.title),r.a.createElement(w.a,{className:a.metadata,mt:4,mb:3,display:"flex",alignItems:"center"},r.a.createElement(Xe.a,{variant:"outlined",size:"small",label:c.type,color:"Temporary"===c.type?"primary":"default"}),c.endDate&&r.a.createElement(Xe.a,{variant:"outlined",size:"small",label:Object(vt.a)(new Date(c.endDate.toString()),"MM/dd/yyy")}))),r.a.createElement(Me.a,{item:!0,md:6,lg:6,sm:12},r.a.createElement(oe.a,{variant:"body2"},c.description))),r.a.createElement(w.a,{mt:5},r.a.createElement(Ot.a,{className:a.divider}),r.a.createElement(Me.a,{container:!0,spacing:3},l.map((function(e,t){return r.a.createElement(ot,Object.assign({key:t},e))}))))))}var xt=Object(g.a)((function(e){return{image:{borderRadius:e.shape.borderRadius-2,width:"100%",objectFit:"cover"}}}));function wt(){var e=xt(),t=Object(f.b)(),a=Object(o.f)(),i=Object(o.h)().id,c=Object(f.c)((function(e){return e.artworks.items}));Object(n.useEffect)((function(){t(function(e){return function(t){return t({type:"meeuapp/artworks/LOADING"}),N.a.get("".concat(W,"/artworks/").concat(e)).then((function(e){t({type:"meeuapp/artworks/GET_SINGLE_ARTWORK_SUCCESS",payload:e.data.result})})).catch((function(e){t(rt(e))}))}}(i))}),[t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{screenTitle:"",onClick:function(){a.goBack()}},r.a.createElement(ft.a,null)),r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement("img",{className:e.image,src:c.image,alt:c.title}),r.a.createElement(w.a,{mt:3,mb:3},r.a.createElement(oe.a,{gutterBottom:!0,variant:"h5"},c.title),r.a.createElement(oe.a,{variant:"subtitle2",color:"primary"},c.author)),r.a.createElement(oe.a,{variant:"body1",color:"textSecondary"},c.description)))}var Ct=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/login",component:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(o.a,{exact:!0,path:"/signup",component:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(o.a,{exact:!0,path:"/museums",component:function(){return r.a.createElement(Ke,null)}}),r.a.createElement(o.a,{exact:!0,path:"/exhibits",component:function(){return r.a.createElement(at,null)}}),r.a.createElement(o.a,{exact:!0,path:"/artworks",component:function(){return r.a.createElement(lt,null)}}),r.a.createElement(o.a,{exact:!0,path:"/exhibits/create",component:function(){return r.a.createElement(pt,null)}}),r.a.createElement(o.a,{exact:!0,path:"/artworks/create",component:function(){return r.a.createElement(Et,null)}}),r.a.createElement(o.a,{exact:!0,path:"/museums/:id",component:function(){return r.a.createElement(yt,null)}}),r.a.createElement(o.a,{exact:!0,path:"/exhibits/:id",component:function(){return r.a.createElement(jt,null)}}),r.a.createElement(o.a,{exact:!0,path:"/artworks/:id",component:function(){return r.a.createElement(wt,null)}}))};var At=function(){var e=Object(o.g)();return r.a.createElement(s.a,{theme:u},r.a.createElement(p.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(E,{condition:"/login"!==e.pathname&&"/signup"!==e.pathname,wrapper:function(t){return r.a.createElement(be,{screenTitle:d(e.pathname)},t)}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=a(52),kt=a(106),Tt=Object(Rt.c)({museums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"meeuapp/museums/LOADING":return Object(I.a)({},e,{status:"pending"});case"meeuapp/museums/GET_MUSEUMS_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});case"meeuapp/museums/GET_MUSEUMS_ERROR":return Object(I.a)({},e,{status:"error",items:t.error});case"meeuapp/museums/GET_SINGLE_MUSEUM_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});default:return e}},artworks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"meeuapp/artworks/LOADING":return Object(I.a)({},e,{status:"pending"});case"meeuapp/artworks/GET_ARTWORKS_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});case"meeuapp/artworks/GET_ARTWORKS_ERROR":return{status:"error",error:t.error};case"meeuapp/artworks/CREATE_ARTWORK_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},e.items,Object(R.a)({},t.payload._id,t.payload))});case"meeuapp/artworks/CREATE_ARTWORK_ERROR":return{status:"error",error:t.error};case"meeuapp/artworks/GET_SINGLE_ARTWORK_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});default:return e}},exhibits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"meeuapp/exhibits/LOADING":return Object(I.a)({},e,{status:"pending"});case"meeuapp/exhibits/GET_EXHIBITS_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});case"meeuapp/exhibits/GET_EXHIBITS_ERROR":return Object(I.a)({},e,{status:"error",items:t.error});case"meeuapp/exhibits/CREATE_EXHIBIT_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},e.items,Object(R.a)({},t.payload._id,t.payload))});case"meeuapp/exhibits/GET_SINGLE_EXHIBIT_SUCCESS":return Object(I.a)({},e,{status:"success",items:Object(I.a)({},t.payload)});case"meeuapp/exhibits/CREATE_EXHIBIT_ERROR":return{status:"error",error:t.error};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(I.a)({},e,{status:"pending"});case U:return{status:"success",data:Object(I.a)({},t.payload)};case M:return{status:"error",error:t.error};case L:return Object(I.a)({},e,{data:localStorage.clear()});case"meeuapp/user/SIGNUP_SUCCESS":return{status:"success",data:Object(I.a)({},t.payload)};case _:return{status:"error",error:t.error};default:return e}}}),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt.d,Bt=Object(Rt.e)(Tt,It(Object(Rt.a)(kt.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:Bt},r.a.createElement(k.a,null,r.a.createElement(At,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[122,1,2]]]);
//# sourceMappingURL=main.acc633b5.chunk.js.map